[% USE class = Cycle('row', 'altrow') -%]
[% link = '<a href="http://search.cpan.org/dist/' _ distribution _ '">'
   _ distribution _ "</a>" %]
[% rss = distribution _ '.rss' %]

[% htmltitle = 'Reports for ' _ distribution %]
[% title = 'Reports for ' _ link %]

<div id="doc" class="yui-t4">
  <div id="hd"><h1><a href="/">CPAN Testers</a>: [% htmltitle %]</h1></div>
  <div id="bd">
    <div id="yui-main">
      <div class="yui-b">
      <div class="hd">
<p>
These are the test reports that we have for the CPAN distribution 
[% link %].
</p>


[% FOREACH version = versions %]

<div class="[% release.$version.csscurrent %]">
<div class="[% release.$version.cssrelease %]">

<h2>[% distribution %] [% version | html %] [% IF summary.$version.keys %]
(<a name="[% distribution %]-[% version -%]">
[%- FOREACH status = summary.$version.keys.sort -%]
[%- c = summary.$version.$status -%]
[% c %]<span class="[% status | html %]"> [% status -%]
[%- IF status != "ALL" -%]
[% IF c > 1 %][% IF status == 'PASS' %]es[% ELSE %]s[% END %][% END -%]
[% END -%]
[% UNLESS loop.last %], [% END -%]
</span>[% -%]
[% END -%]</a>)</h2>

<ul>
  [% FOREACH report = byversion.$version %]
  <div class="[% report.csspatch %]">
  <div class="[% report.cssperl %]">
  <div class="g[% report.status %]">
  <li>
  <span class="[% report.status | html %]">[% report.status | html %]</span>
  <a href="http://nntp.x.perl.org/group/perl.cpan.testers/[% report.id %]">[% report.id %]</a> [% -%]
[% report.perl | html %] on [% report.osname | ucfirst | html %] [% report.osvers | html %]  ([% report.archname | trim | html %])</li>
  </div>
  </div>
  </div>
  [% END %]
</ul>

[% ELSE %] (No reports)</h2>[% END %]
  </div>
  </div>

[% END %]

<h2>PASSes per operating system and Perl version</h2>

<table>
<tr><th><small>Perl version</small></th>
[% FOREACH os IN stats_oses %]
<th><small>[% os %]</small></th>
[% END %]
</tr>
[% FOREACH perl IN stats_perl.reverse %]
[% IF perl != '0' %]
<tr class="[% class %]">
<td><small>[% perl %]</small></td>
[% FOREACH os IN stats_oses %]
<td><small>[% stats.$perl.$os %]</small></td>
[% END %]
</tr>
[% END %]
[% END %]
</table>
<p><br />
Additional stats for <a href="/stats/dist/[% distribution %].html">[% distribution %]</a>
</p>

<div style="float: right">
<a style="text-decoration:none" href="[% distribution %].json"><span class="orange_button">JSON</span></a>
<a style="text-decoration:none" href="[% distribution %].rss" ><span class="orange_button">RSS</span></a>
<a style="text-decoration:none" href="[% distribution %].yaml"><span class="orange_button">YAML</span></a>
</div>

</div>
</div>
        </div>
    <div class="yui-b">

      [% INCLUDE "box-prefs" %]

      <div class="nv">
<h3>Version Summary:</h3>
<table>
[% FOREACH version = versions %]
<tr>
<td>[% version %]</td>
<td>
[%- s = summary.$version -%]
[%- IF s.ALL -%]
[%- IF s.PASS    %]<img src="/green.png"  width="[% s.PASS    * 80 / s.ALL %]" height="16"/>[% END -%]
[%- IF s.NA      %]<img src="/yellow.png" width="[% s.NA      * 80 / s.ALL %]" height="16"/>[% END -%]
[%- IF s.UNKNOWN %]<img src="/yellow.png" width="[% s.UNKNOWN * 80 / s.ALL %]" height="16"/>[% END -%]
[%- IF s.FAIL    %]<img src="/red.png"    width="[% s.FAIL    * 80 / s.ALL %]" height="16"/>[% END -%]
[% END %]
</td>
</tr>
[% END %]
</table>
      </div>

      [% INCLUDE "box-sites" %]

<p align="right">
<a style="text-decoration:none" href="[% distribution %].json"><span class="orange_button">JSON</span></a>
<a style="text-decoration:none" href="[% distribution %].rss" ><span class="orange_button">RSS</span></a>
<a style="text-decoration:none" href="[% distribution %].yaml"><span class="orange_button">YAML</span></a>

    </div>
  </div>

  [% INCLUDE "footer" %]
</div>
